{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/kayla/OneDrive/Desktop/Code/space-tourism-express/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/kayla/OneDrive/Desktop/Code/space-tourism-express/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/kayla/OneDrive/Desktop/Code/space-tourism-express/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";export var useFetch=function useFetch(url){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isPending=_useState4[0],setIsPending=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){var controller=new AbortController();var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,_data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setIsPending(true);_context.prev=1;_context.next=4;return fetch(url,{signal:controller.signal});case 4:res=_context.sent;if(res.ok){_context.next=8;break;}console.log(res);throw new Error(res.statusText);case 8:_context.next=10;return res.json();case 10:_data=_context.sent;setIsPending(false);setError(null);setData(_data);_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](1);if(_context.t0.name===\"AbortError\"){console.log(\"the fetch was aborted\");}else{setIsPending(false);console.log(_context.t0);setError(\"Could not fetch the error\");}case 19:case\"end\":return _context.stop();}},_callee,null,[[1,16]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();return function(){return controller.abort();};},[url]);return{data:data,isPending:isPending,error:error};};","map":{"version":3,"names":["useState","useEffect","useFetch","url","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","isPending","setIsPending","_useState5","_useState6","error","setError","controller","AbortController","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","_data","wrap","_callee$","_context","prev","next","fetch","signal","sent","ok","console","log","Error","statusText","json","t0","name","stop","apply","arguments","abort"],"sources":["C:/Users/kayla/OneDrive/Desktop/Code/space-tourism-express/client/src/hooks/useFetch.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nexport const useFetch = (url) => {\r\n  const [data, setData] = useState(null);\r\n  const [isPending, setIsPending] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n    const fetchData = async () => {\r\n      setIsPending(true);\r\n      try {\r\n        const res = await fetch(url, { signal: controller.signal });\r\n        if (!res.ok) {\r\n          console.log(res);\r\n          throw new Error(res.statusText);\r\n        }\r\n        const data = await res.json();\r\n        setIsPending(false);\r\n        setError(null);\r\n        setData(data);\r\n      } catch (err) {\r\n        if (err.name === \"AbortError\") {\r\n          console.log(\"the fetch was aborted\");\r\n        } else {\r\n          setIsPending(false);\r\n          console.log(err);\r\n          setError(\"Could not fetch the error\");\r\n        }\r\n      }\r\n    };\r\n    fetchData();\r\n    return () => controller.abort();\r\n  }, [url]);\r\n\r\n  return { data, isPending, error };\r\n};\r\n"],"mappings":"qdAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE3C,MAAO,IAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,GAAG,CAAK,CAC/B,IAAAC,SAAA,CAAwBJ,QAAQ,CAAC,IAAI,CAAC,CAAAK,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAAkCT,QAAQ,CAAC,KAAK,CAAC,CAAAU,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA1CE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAC9B,IAAAG,UAAA,CAA0Bb,QAAQ,CAAC,IAAI,CAAC,CAAAc,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAjCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAEtBb,SAAS,CAAC,UAAM,CACd,GAAM,CAAAgB,UAAU,CAAG,GAAI,CAAAC,eAAe,EAAE,CACxC,GAAM,CAAAC,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,GAAA,CAAAC,KAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAChBnB,YAAY,CAAC,IAAI,CAAC,CAACiB,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEC,CAAAC,KAAK,CAAC7B,GAAG,CAAE,CAAE8B,MAAM,CAAEhB,UAAU,CAACgB,MAAO,CAAC,CAAC,QAArDR,GAAG,CAAAI,QAAA,CAAAK,IAAA,IACJT,GAAG,CAACU,EAAE,EAAAN,QAAA,CAAAE,IAAA,UACTK,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC,CAAC,KACX,IAAI,CAAAa,KAAK,CAACb,GAAG,CAACc,UAAU,CAAC,QAAAV,QAAA,CAAAE,IAAA,UAEd,CAAAN,GAAG,CAACe,IAAI,EAAE,SAAvBjC,KAAI,CAAAsB,QAAA,CAAAK,IAAA,CACVtB,YAAY,CAAC,KAAK,CAAC,CACnBI,QAAQ,CAAC,IAAI,CAAC,CACdR,OAAO,CAACD,KAAI,CAAC,CAACsB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAY,EAAA,CAAAZ,QAAA,aAEd,GAAIA,QAAA,CAAAY,EAAA,CAAIC,IAAI,GAAK,YAAY,CAAE,CAC7BN,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC,CACtC,CAAC,IAAM,CACLzB,YAAY,CAAC,KAAK,CAAC,CACnBwB,OAAO,CAACC,GAAG,CAAAR,QAAA,CAAAY,EAAA,CAAK,CAChBzB,QAAQ,CAAC,2BAA2B,CAAC,CACvC,CAAC,yBAAAa,QAAA,CAAAc,IAAA,MAAAnB,OAAA,iBAEJ,kBArBK,CAAAL,SAASA,CAAA,SAAAC,IAAA,CAAAwB,KAAA,MAAAC,SAAA,OAqBd,CACD1B,SAAS,EAAE,CACX,MAAO,kBAAM,CAAAF,UAAU,CAAC6B,KAAK,EAAE,GACjC,CAAC,CAAE,CAAC3C,GAAG,CAAC,CAAC,CAET,MAAO,CAAEI,IAAI,CAAJA,IAAI,CAAEI,SAAS,CAATA,SAAS,CAAEI,KAAK,CAALA,KAAM,CAAC,CACnC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}